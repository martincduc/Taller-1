<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Libre & Rico — Registro</title>
  <style>
    :root{
      --primary:#2563eb; --primary-dark:#1e40af;
      --ok-bg:#dcfce7; --ok-fg:#065f46;
      --err-bg:#fee2e2; --err-fg:#7f1d1d;
      --warn-bg:#fef3c7; --warn-fg:#78350f;
      --muted:#6b7280;
    }
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:#f4f4f4;margin:0}
    .container{max-width:420px;margin:56px auto;background:#fff;padding:24px;border-radius:12px;box-shadow:0 6px 18px rgba(0,0,0,.08)}
    h1{font-size:20px;margin:0 0 4px}
    .sub{color:var(--muted);font-size:13px;margin:0 0 16px}
    .field{margin-bottom:14px}
    label{display:block;margin:0 0 6px;font-size:14px}
    input{width:100%;padding:12px;border:1px solid #d1d5db;border-radius:8px;font-size:14px}
    button{width:100%;padding:12px;background:var(--primary);color:#fff;border:none;border-radius:8px;cursor:pointer;font-weight:600}
    button:hover{background:var(--primary-dark)}
    .alert{display:none;margin-top:12px;padding:10px 12px;border-radius:8px;font-size:14px}
    .success{background:var(--ok-bg);color:var(--ok-fg)}
    .error{background:var(--err-bg);color:var(--err-fg)}
    .warn{background:var(--warn-bg);color:var(--warn-fg)}
    .hint{font-size:12px;color:var(--muted);margin-top:6px}
  </style>
</head>
<body>
  <div class="container">
    <h1>Registro de cliente</h1>
    <p class="sub">Libre & Rico — Panificados sin gluten</p>

    <form id="formRegistro" novalidate>
      <div class="field">
        <label for="email">Email</label>
        <input id="email" type="email" placeholder="cliente@ejemplo.com" required />
      </div>

      <div class="field">
        <label for="nombre">Nombre</label>
        <input id="nombre" type="text" placeholder="Ana López" required />
      </div>

      <div class="field">
        <label for="password">Contraseña</label>
        <input id="password" type="password" placeholder="Mínimo 8, con mayúscula y número" required />
        <div class="hint">Requisitos: 8+ caracteres, 1 mayúscula, 1 número.</div>
      </div>

      <button type="submit">Registrar</button>

      <!-- Mensajes -->
      <div id="msg-success" class="alert success">✔ Registro exitoso. Te enviamos un correo de verificación.</div>
      <div id="msg-dup" class="alert error">✖ El correo ya está registrado.</div>
      <div id="msg-weak" class="alert warn">⚠ La contraseña no cumple los requisitos.</div>
      <div id="msg-empty" class="alert error">✖ Completa todos los campos.</div>
    </form>
  </div>

  <script>
    const usuariosExistentes = new Set(["test@correo.cl","cliente1@ejemplo.com"]);

    const f = document.getElementById("formRegistro");
    const email = document.getElementById("email");
    const nombre = document.getElementById("nombre");
    const pass  = document.getElementById("password");

    const ok   = document.getElementById("msg-success");
    const dup  = document.getElementById("msg-dup");
    const weak = document.getElementById("msg-weak");
    const empty= document.getElementById("msg-empty");

    function hideAll(){
      [ok, dup, weak, empty].forEach(x => { x.style.display = "none"; });
    }

    function passFuerte(p){
      return p.length >= 8 && /[A-ZÁÉÍÓÚÑ]/.test(p) && /\d/.test(p);
    }

    f.addEventListener("submit", (e)=>{
      e.preventDefault();
      hideAll();

      const em = email.value.trim().toLowerCase();
      const nm = nombre.value.trim();
      const pw = pass.value;

      if(!em || !nm || !pw){
        empty.style.display = "block";
        return;
      }

      if(!passFuerte(pw)){
        weak.style.display = "block";
        return;
      }

      if(usuariosExistentes.has(em)){
        dup.style.display = "block";
        return;
      }

      
      usuariosExistentes.add(em);
      ok.style.display = "block";
      f.reset();
    });
  </script>
</body>
</html>
